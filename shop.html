<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shop</title>
  <script type="module" src="firebase.js"></script>
</head>
<body style="font-family: sans-serif; padding: 20px;">
  <h1>Our Products</h1>
  <div id="productGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;"></div>

  <script type="module">
    import { collection, getDocs } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";
    const db = window.firebaseDB;

    async function loadProducts() {
      const grid = document.getElementById('productGrid');
      const snapshot = await getDocs(collection(db, "products"));
      snapshot.forEach(doc => {
        const p = doc.data();
        const div = document.createElement('div');
        div.style.border = "1px solid #ccc";
        div.style.padding = "10px";
        div.style.borderRadius = "8px";
        div.innerHTML = `
          <img src="${p.image}" style="width: 100%; height: auto; border-radius: 8px;" />
          <h3>${p.title}</h3>
          <p>${p.description}</p>
          <p><strong>Â£${p.price.toFixed(2)}</strong></p>
        `;
        grid.appendChild(div);
      });
    }

    loadProducts();
  </script>
</body>
</html>
